(function(){function e(){O.keyboardSupport&&w("keydown",a)}function t(){if(!N&&document.body){N=!0;var t=document.body,o=document.documentElement,n=window.innerHeight,r=t.scrollHeight;if(K=document.compatMode.indexOf("CSS")>=0?o:t,E=t,e(),top!=self)Y=!0;else if(ie&&r>n&&(t.offsetHeight<=n||o.offsetHeight<=n)){var a,i=document.createElement("div");i.style.cssText="position:absolute; z-index:-10000; top:0; left:0; right:0; height:"+K.scrollHeight+"px",document.body.appendChild(i),B=function(){a||(a=setTimeout(function(){X||(i.style.height="0",i.style.height=K.scrollHeight+"px",a=null)},500))},setTimeout(B,10),w("resize",B);var l={attributes:!0,childList:!0,characterData:!1};if(T=new Q(B),T.observe(t,l),K.offsetHeight<=n){var c=document.createElement("div");c.style.clear="both",t.appendChild(c)}}O.fixedBackground||X||(t.style.backgroundAttachment="scroll",o.style.backgroundAttachment="scroll")}}function o(){T&&T.disconnect(),p(se,r),p("mousedown",i),p("keydown",a),p("resize",B),p("load",t)}function n(e,t,o){if(y(t,o),1!=O.accelerationMax){var n=Date.now(),r=n-F;if(r<O.accelerationDelta){var a=(1+50/r)/2;a>1&&(a=Math.min(a,O.accelerationMax),t*=a,o*=a)}F=Date.now()}if(q.push({x:t,y:o,lastX:t<0?.99:-.99,lastY:o<0?.99:-.99,start:Date.now()}),!V){var i=Z(),l=e===i||e===document.body;null==e.$scrollBehavior&&h(e)&&(e.$scrollBehavior=e.style.scrollBehavior,e.style.scrollBehavior="auto");var c=function(n){for(var r=Date.now(),a=0,i=0,u=0;u<q.length;u++){var s=q[u],d=r-s.start,f=d>=O.animationTime,m=f?1:d/O.animationTime;O.pulseAlgorithm&&(m=D(m));var h=s.x*m-s.lastX>>0,w=s.y*m-s.lastY>>0;a+=h,i+=w,s.lastX+=h,s.lastY+=w,f&&(q.splice(u,1),u--)}l?window.scrollBy(a,i):(a&&(e.scrollLeft+=a),i&&(e.scrollTop+=i)),t||o||(q=[]),q.length?J(c,e,1e3/O.frameRate+1):(V=!1,null!=e.$scrollBehavior&&(e.style.scrollBehavior=e.$scrollBehavior,e.$scrollBehavior=null))};J(c,e,0),V=!0}}function r(e){N||t();var o=e.target;if(e.defaultPrevented||e.ctrlKey)return!0;if(v(E,"embed")||v(o,"embed")&&/\.pdf/i.test(o.src)||v(E,"object")||o.shadowRoot)return!0;var r=-e.wheelDeltaX||e.deltaX||0,a=-e.wheelDeltaY||e.deltaY||0;$&&(e.wheelDeltaX&&g(e.wheelDeltaX,120)&&(r=e.wheelDeltaX/Math.abs(e.wheelDeltaX)*-120),e.wheelDeltaY&&g(e.wheelDeltaY,120)&&(a=e.wheelDeltaY/Math.abs(e.wheelDeltaY)*-120)),r||a||(a=-e.wheelDelta||0),1===e.deltaMode&&(r*=40,a*=40);var i=s(o);return i?!!b(a)||(Math.abs(r)>1.2&&(r*=O.stepSize/120),Math.abs(a)>1.2&&(a*=O.stepSize/120),n(i,r,a),e.preventDefault(),void l()):!Y||!oe||(Object.defineProperty(e,"target",{value:window.frameElement}),parent.wheel(e))}function a(e){var t=e.target,o=e.ctrlKey||e.altKey||e.metaKey||e.shiftKey&&e.keyCode!==j.spacebar;document.body.contains(E)||(E=document.activeElement);var r=/^(textarea|select|embed|object)$/i,a=/^(button|submit|radio|checkbox|file|color|image)$/i;if(e.defaultPrevented||r.test(t.nodeName)||v(t,"input")&&!a.test(t.type)||v(E,"video")||x(e)||t.isContentEditable||o)return!0;if((v(t,"button")||v(t,"input")&&a.test(t.type))&&e.keyCode===j.spacebar)return!0;if(v(t,"input")&&"radio"==t.type&&R[e.keyCode])return!0;var i,c=0,u=0,d=s(E);if(!d)return!Y||!oe||parent.keydown(e);var f=d.clientHeight;switch(d==document.body&&(f=window.innerHeight),e.keyCode){case j.up:u=-O.arrowScroll;break;case j.down:u=O.arrowScroll;break;case j.spacebar:i=e.shiftKey?1:-1,u=-i*f*.9;break;case j.pageup:u=.9*-f;break;case j.pagedown:u=.9*f;break;case j.home:d==document.body&&document.scrollingElement&&(d=document.scrollingElement),u=-d.scrollTop;break;case j.end:var m=d.scrollHeight-d.scrollTop,h=m-f;u=h>0?h+10:0;break;case j.left:c=-O.arrowScroll;break;case j.right:c=O.arrowScroll;break;default:return!0}n(d,c,u),e.preventDefault(),l()}function i(e){E=e.target}function l(){clearTimeout(z),z=setInterval(function(){_=W=U={}},1e3)}function c(e,t,o){for(var n=o?_:W,r=e.length;r--;)n[I(e[r])]=t;return t}function u(e,t){return(t?_:W)[I(e)]}function s(e){var t=[],o=document.body,n=K.scrollHeight;do{var r=u(e,!1);if(r)return c(t,r);if(t.push(e),n===e.scrollHeight){var a=f(K)&&f(o),i=a||m(K);if(Y&&d(K)||!Y&&i)return c(t,Z())}else if(d(e)&&m(e))return c(t,e)}while(e=e.parentElement)}function d(e){return e.clientHeight+10<e.scrollHeight}function f(e){var t=getComputedStyle(e,"").getPropertyValue("overflow-y");return"hidden"!==t}function m(e){var t=getComputedStyle(e,"").getPropertyValue("overflow-y");return"scroll"===t||"auto"===t}function h(e){var t=I(e);if(null==U[t]){var o=getComputedStyle(e,"")["scroll-behavior"];U[t]="smooth"==o}return U[t]}function w(e,t,o){window.addEventListener(e,t,o||!1)}function p(e,t,o){window.removeEventListener(e,t,o||!1)}function v(e,t){return e&&(e.nodeName||"").toLowerCase()===t.toLowerCase()}function y(e,t){e=e>0?1:-1,t=t>0?1:-1,A.x===e&&A.y===t||(A.x=e,A.y=t,q=[],F=0)}function b(e){if(e){P.length||(P=[e,e,e]),e=Math.abs(e),P.push(e),P.shift(),clearTimeout(C),C=setTimeout(function(){try{localStorage.SS_deltaBuffer=P.join(",")}catch(e){}},1e3);var t=e>120&&S(e),o=!S(120)&&!S(100)&&!t;return e<50||o}}function g(e,t){return Math.floor(e/t)==e/t}function S(e){return g(P[0],e)&&g(P[1],e)&&g(P[2],e)}function x(e){var t=e.target,o=!1;if(-1!=document.URL.indexOf("www.youtube.com/watch"))do{if(o=t.classList&&t.classList.contains("html5-video-controls"),o)break}while(t=t.parentNode);return o}function k(e){var t,o,n;return e*=O.pulseScale,e<1?t=e-(1-Math.exp(-e)):(o=Math.exp(-1),e-=1,n=1-Math.exp(-e),t=o+n*(1-o)),t*O.pulseNormalize}function D(e){return e>=1?1:e<=0?0:(1==O.pulseNormalize&&(O.pulseNormalize/=k(1)),k(e))}function M(e){for(var t in e)L.hasOwnProperty(t)&&(O[t]=e[t])}var E,T,B,C,H,z,L={frameRate:150,animationTime:400,stepSize:75,pulseAlgorithm:!0,pulseScale:3,pulseNormalize:1,accelerationDelta:50,accelerationMax:3,keyboardSupport:!0,arrowScroll:50,fixedBackground:!0,excluded:""},O=L,X=!1,Y=!1,A={x:0,y:0},N=!1,K=document.documentElement,P=[],$=/^Mac/.test(navigator.platform),j={left:37,up:38,right:39,down:40,spacebar:32,pageup:33,pagedown:34,end:35,home:36},R={37:1,38:1,39:1,40:1},q=[],V=!1,F=Date.now(),I=(H=0,function(e){return e.uniqueID||(e.uniqueID=H++)}),_={},W={},U={};if(window.localStorage&&localStorage.SS_deltaBuffer)try{P=localStorage.SS_deltaBuffer.split(",")}catch(e){}var G,J=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e,t,o){window.setTimeout(e,o||1e3/60)},Q=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,Z=(G=document.scrollingElement,function(){if(!G){var e=document.createElement("div");e.style.cssText="height:10000px;width:1px;",document.body.appendChild(e);var t=document.body.scrollTop;document.documentElement.scrollTop,window.scrollBy(0,3),G=document.body.scrollTop!=t?document.body:document.documentElement,window.scrollBy(0,-3),document.body.removeChild(e)}return G}),ee=window.navigator.userAgent,te=/Edge/.test(ee),oe=/chrome/i.test(ee)&&!te,ne=/safari/i.test(ee)&&!te,re=/mobile/i.test(ee),ae=/Windows NT 6.1/i.test(ee)&&/rv:11/i.test(ee),ie=ne&&(/Version\/8/i.test(ee)||/Version\/9/i.test(ee)),le=(oe||ne||ae)&&!re,ce=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){ce=!0}}))}catch(e){}var ue=!!ce&&{passive:!1},se="onwheel"in document.createElement("div")?"wheel":"mousewheel";se&&le&&(w(se,r,ue),w("mousedown",i),w("load",t)),M.destroy=o,window.SmoothScrollOptions&&M(window.SmoothScrollOptions),"function"==typeof define&&define.amd?define(function(){return M}):"object"==typeof exports?module.exports=M:window.SmoothScroll=M})();!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Zoom=t()}(this,function(){"use strict";var e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},t=function(e){return"IMG"===e.tagName},o=function(e){return e&&1===e.nodeType},n=function(e){return".svg"===(e.currentSrc||e.src).substr(-4).toLowerCase()},i=function(e){try{return Array.isArray(e)?e.filter(t):function(e){return NodeList.prototype.isPrototypeOf(e)}(e)?[].slice.call(e).filter(t):o(e)?[e].filter(t):"string"==typeof e?[].slice.call(document.querySelectorAll(e)).filter(t):[]}catch(e){throw new TypeError("The provided selector is invalid.\nExpects a CSS selector, a Node element, a NodeList or an array.")}},r=function(e){var t=document.createElement("div");return t.classList.add("zoom-overlay"),t.style.background=e,t},d=function(e){var t=e.getBoundingClientRect(),o=t.top,n=t.left,i=t.width,r=t.height,d=e.cloneNode(),a=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,m=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return d.removeAttribute("id"),d.style.position="absolute",d.style.top=o+a+"px",d.style.left=n+m+"px",d.style.width=i+"px",d.style.height=r+"px",d.style.transform="",d},a=function(t,o){var n=e({bubbles:!1,cancelable:!1,detail:void 0},o);if("function"==typeof window.CustomEvent)return new CustomEvent(t,n);var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n.bubbles,n.cancelable,n.detail),i};return function(e,t){void 0===t&&(t={});var o=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===o&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(".zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;backdrop-filter:blur(10px);transition:opacity .3s;will-change:opacity}.zoom--opened .zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.zoom-image--hidden{visibility:hidden}.zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}"),function t(m){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=window.Promise||function(e){function t(){}e(t,t)},u=function(e){var t=e.target;t!==N?-1!==O.indexOf(t)&&w({target:t}):E()},s=function(){if(!A&&T.original){var e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;Math.abs(k-e)>S.scrollOffset&&setTimeout(E,150)}},f=function(e){var t=e.key||e.keyCode;"Escape"!==t&&"Esc"!==t&&27!==t||E()},p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t;if(t.background&&(N.style.background=t.background),t.container&&t.container instanceof Object&&(n.container=e({},S.container,t.container)),t.template){var i=o(t.template)?t.template:document.querySelector(t.template);n.template=i}return S=e({},S,n),O.forEach(function(e){e.dispatchEvent(a("zoom:update",{detail:{zoom:j}}))}),j},g=function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t(e({},S,o))},v=function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];var n=t.reduce(function(e,t){return[].concat(e,i(t))},[]);return n.filter(function(e){return-1===O.indexOf(e)}).forEach(function(e){O.push(e),e.classList.add("zoom-image")}),x.forEach(function(e){var t=e.type,o=e.listener,i=e.options;n.forEach(function(e){e.addEventListener(t,o,i)})}),j},h=function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];T.zoomed&&E();var n=t.length>0?t.reduce(function(e,t){return[].concat(e,i(t))},[]):O;return n.forEach(function(e){e.classList.remove("zoom-image"),e.dispatchEvent(a("zoom:detach",{detail:{zoom:j}}))}),O=O.filter(function(e){return-1===n.indexOf(e)}),j},z=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return O.forEach(function(n){n.addEventListener("zoom:"+e,t,o)}),x.push({type:"zoom:"+e,listener:t,options:o}),j},y=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return O.forEach(function(n){n.removeEventListener("zoom:"+e,t,o)}),x=x.filter(function(o){return!(o.type==="zoom:"+e&&o.listener.toString()===t.toString())}),j},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.target,r=function(){var t={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:0,bottom:0},i=void 0,r=void 0;if(S.container)if(S.container instanceof Object)i=(t=e({},t,S.container)).width-t.left-t.right-2*S.margin,r=t.height-t.top-t.bottom-2*S.margin;else{var d=(o(S.container)?S.container:document.querySelector(S.container)).getBoundingClientRect(),a=d.width,m=d.height,l=d.left,c=d.top;t=e({},t,{width:a,height:m,left:l,top:c})}i=i||t.width-2*S.margin,r=r||t.height-2*S.margin;var u=T.zoomedHd||T.original,s=n(u)?i:u.naturalWidth||i,f=n(u)?r:u.naturalHeight||r,p=u.getBoundingClientRect(),g=p.top,v=p.left,h=p.width,z=p.height,y=Math.min(s,i)/h,b=Math.min(f,r)/z,E=Math.min(y,b),w="scale("+E+") translate3d("+((i-h)/2-v+S.margin+t.left)/E+"px, "+((r-z)/2-g+S.margin+t.top)/E+"px, 0)";T.zoomed.style.transform=w,T.zoomedHd&&(T.zoomedHd.style.transform=w)};return new c(function(e){if(i&&-1===O.indexOf(i))e(j);else if(T.zoomed)e(j);else{if(i)T.original=i;else{if(!(O.length>0))return void e(j);var t=O;T.original=t[0]}if(T.original.dispatchEvent(a("zoom:open",{detail:{zoom:j}})),k=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,A=!0,T.zoomed=d(T.original),document.body.appendChild(N),S.template){var n=o(S.template)?S.template:document.querySelector(S.template);T.template=document.createElement("div"),T.template.appendChild(n.content.cloneNode(!0)),document.body.appendChild(T.template)}if(document.body.appendChild(T.zoomed),window.requestAnimationFrame(function(){document.body.classList.add("zoom--opened")}),T.original.classList.add("zoom-image--hidden"),T.zoomed.classList.add("zoom-image--opened"),T.zoomed.addEventListener("click",E),T.zoomed.addEventListener("transitionend",function t(){A=!1,T.zoomed.removeEventListener("transitionend",t),T.original.dispatchEvent(a("zoom:opened",{detail:{zoom:j}})),e(j)}),T.original.getAttribute("data-zoom-src")){T.zoomedHd=T.zoomed.cloneNode(),T.zoomedHd.removeAttribute("srcset"),T.zoomedHd.removeAttribute("sizes"),T.zoomedHd.src=T.zoomed.getAttribute("data-zoom-src"),T.zoomedHd.onerror=function(){clearInterval(m),console.warn("Unable to reach the zoom image target "+T.zoomedHd.src),T.zoomedHd=null,r()};var m=setInterval(function(){T.zoomedHd.complete&&(clearInterval(m),T.zoomedHd.classList.add("zoom-image--opened"),T.zoomedHd.addEventListener("click",E),document.body.appendChild(T.zoomedHd),r())},10)}else if(T.original.hasAttribute("srcset")){T.zoomedHd=T.zoomed.cloneNode(),T.zoomedHd.removeAttribute("sizes"),T.zoomedHd.removeAttribute("loading");var l=T.zoomedHd.addEventListener("load",function(){T.zoomedHd.removeEventListener("load",l),T.zoomedHd.classList.add("zoom-image--opened"),T.zoomedHd.addEventListener("click",E),document.body.appendChild(T.zoomedHd),r()})}else r()}})},E=function(){return new c(function(e){!A&&T.original?(A=!0,document.body.classList.remove("zoom--opened"),T.zoomed.style.transform="",T.zoomedHd&&(T.zoomedHd.style.transform=""),T.template&&(T.template.style.transition="opacity 150ms",T.template.style.opacity=0),T.original.dispatchEvent(a("zoom:close",{detail:{zoom:j}})),T.zoomed.addEventListener("transitionend",function t(){T.original.classList.remove("zoom-image--hidden"),document.body.removeChild(T.zoomed),T.zoomedHd&&document.body.removeChild(T.zoomedHd),document.body.removeChild(N),T.zoomed.classList.remove("zoom-image--opened"),T.template&&document.body.removeChild(T.template),A=!1,T.zoomed.removeEventListener("transitionend",t),T.original.dispatchEvent(a("zoom:closed",{detail:{zoom:j}})),T.original=null,T.zoomed=null,T.zoomedHd=null,T.template=null,e(j)})):e(j)})},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target;return T.original?E():b({target:t})},L=function(){return S},H=function(){return O},C=function(){return T.original},O=[],x=[],A=!1,k=0,S=l,T={original:null,zoomed:null,zoomedHd:null,template:null};"[object Object]"===Object.prototype.toString.call(m)?S=m:(m||"string"==typeof m)&&v(m),S=e({margin:0,background:"#fff",scrollOffset:40,container:null,template:null},S);var N=r(S.background);document.addEventListener("click",u),document.addEventListener("keyup",f),document.addEventListener("scroll",s),window.addEventListener("resize",E);var j={open:b,close:E,toggle:w,update:p,clone:g,attach:v,detach:h,on:z,off:y,getOptions:L,getImages:H,getZoomedImage:C};return j}});
